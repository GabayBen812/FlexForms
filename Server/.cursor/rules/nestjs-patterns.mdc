---
description: NestJS code style and architecture patterns
alwaysApply: false
---

## NestJS (Server)

- Follow NestJS module architecture patterns
- Use DTOs (Data Transfer Objects) for all API endpoints
- Validate all inputs using class-validator decorators
- Use dependency injection throughout
- Keep controllers thin - business logic belongs in services
- Use guards for authentication and authorization
- Use interceptors for cross-cutting concerns

## Common Patterns

### NestJS Controller Pattern
```typescript
@Controller('users')
export class UsersController {
  constructor(private readonly usersService: UsersService) {}
  
  @Get()
  @UseGuards(AuthGuard)
  async findAll(@Query() query: FindUsersDto) {
    return this.usersService.findAll(query);
  }
}
```

## Multi-tenant

- The endpoint should use the organizationId from the JWT token
